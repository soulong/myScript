# CUT&Tag Pipeline Configuration File
# place this file in your working directory
# enter data_directory -> run script to get samplesheet -> run pipeline
# Usage:
# cd /mnt/f/workspace/2026-01-08_CutTag_293T_ZTX 
# mamba activate ngs
# bash /mnt/f/GitHub/myScript/NGS/CutTag/run_cuttag.sh config.yml 
# edit samplesheet.csv and config.yml
# bash /mnt/f/GitHub/myScript/NGS/CutTag/run_cuttag.sh config.yml

# ============================= Basic Settings =============================
# Species: "hs" (human GRCh38), "chm13" (T2T-CHM13), or "mm" (mouse GRCm39)
species: chm13

# Sample sheet CSV file (must contain columns: sample,group,control,target,fq1,fq2)
samplesheet: samplesheet.csv

# Directory containing raw FASTQ files
fastq_dir: 01.RawData

# Output directory for all results
outdir: result

# Number of threads for parallel processing
threads: 16

# Memory limit for sambamba sort (e.g., "16G", "32G")
sort_mem_limit: 16G

# Maximum fragment length for paired-end alignment
max_frag_length: 1000

# Skip preprocessing steps, this is for running non-standard pipelines
skip_preprocess: false

# Perform spike-in normalization alignment
run_spike: false

# Normalization method: "CPM" (counts per million), "Spike" (spike-in), or "SpikeFree"
norm_method: CPM

# Peak calling with MACS3
call_peak: true

# MACS3 parameters used for peak calling. Example: "--nomodel --shift -100 --extsize 200 -q 0.01 --broad"
macs_parameter: --nomodel --shift -100 --extsize 200 -q 0.05

# ============================= Index Paths =============================
# Root directory containing genome indices
# Modify this to match your system's index location
# check helper.sh for more details
index_rootdir: /mnt/f/index

# Expected directory structure under index_rootdir:
#   index_rootdir/
#   ├── hs/v49/              # Human GRCh38
#   │   ├── bowtie2/
#   │   ├── GRCh38.primary_assembly.genome.fa.gz
#   │   ├── GRCh38.primary_assembly.genome.fa.gz.fai
#   │   ├── genes.bed
#   │   └── genes_protein_coding.bed
#   ├── hs/chm13/            # Human T2T-CHM13
#   │   ├── bowtie2/
#   │   ├── chm13v2.0.fa.gz
#   │   └── ...
#   ├── mm/vM38/             # Mouse GRCm39
#   │   ├── bowtie2/
#   │   ├── GRCm39.primary_assembly.genome.fa.gz
#   │   └── ...
#   └── Ecoli_novoprotein/   # Spike-in genome
#       └── bowtie2/

# ============================= Advanced Options =============================
# Spike-free normalization scale factor file (required if norm_method: SpikeFree)
# spike_free_sf_file: result/03_alignment/SpikeFree_SF.txt

# Custom BED regions for heatmap generation (one per line, will be added to defaults)
# path should be absolute path
# Format: bed_region: /path/to/file.bed
# You can specify multiple regions:
# bed_region: /path/to/enhancers.bed
# bed_region: /path/to/promoters.bed
# bed_region: /path/to/custom_peaks.bed